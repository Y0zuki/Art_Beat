<html>

<head>
    <title>User Settings</title>
    <link rel="stylesheet" href="settings.css">
    <link rel="stylesheet" href="settings.js">
    <link rel="shortcut icon" href="Photos/Logo ArtBeat blue.png" type="image/x-icon">
    <link href='https://fonts.googleapis.com/css?family=Shrikhand' rel='stylesheet'>
    <link href='https://fonts.google.com/specimen/Alice?query=Alice' rel='stylesheet'>
    <link href='https://fonts.google.com/specimen/Cardo?query=cardo' rel='stylesheet'>
</head>

<body>


    <div class="box flex-container"
        style="background-color: rgba(255, 255, 255, 0.678); position: relative; margin-top: -30px;">
        <div class="avatar-container" style="margin-left: 40px; margin-top: 20px; padding: 20px;">
            <img class="avatar" onclick="document.location='profilepage.html'" src="Photos/Profile.png" alt="Avatar">
            <button class="edit-button" onclick="uploadAvatar()">Edit</button>
            <input type="file" id="avatar-input" accept="image/*" style="display: none;">

        </div>
        <script>
            function uploadAvatar() {
                document.getElementById('avatar-input').click();
            }

            document.getElementById('avatar-input').addEventListener('change', function () {
                const file = this.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function (e) {
                        document.querySelector('.avatar').src = e.target.result;
                    }
                    reader.readAsDataURL(file);
                }
            });
        </script>

        <script src="settings.js"></script>

        <label class="switch" style="margin-left: 1200px; margin-top: -120;">
            <input type="checkbox" onclick="toggleDarkMode()">
            <span class="slider"></span>
        </label>

        <script>
            function toggleDarkMode() {
                var element = document.body;
                element.classList.toggle("dark-mode");
            }
        </script>

        <div class="profile-container">
            <p
                style="margin-top: -950px; margin-left: 290px; font-family: shrikhand; color: rgba(109, 34, 149, 0.721);">
                Profile:</p>
            <label for="profileNameInput" style="margin-left: 735px; margin-top: 730; height: 10px;"></label>
            <input type="text" id="profileNameInput" placeholder="Enter your display name">
            <span id="displayName" style="margin-bottom: -90px;">Username</span>

            <button id="change-background" style="margin-top: -200px; margin-left: -400px; height: 100px; width: 300px;
             font-size: 20px; font-family: shrikhand; background-color: rgba(164, 115, 233, 0.814); 
             border: rgba(177, 131, 190, 0.725); border-style: solid; color: rgba(112, 54, 167, 0.798);"
                onclick="document.location='backgroundcolor.html'">Background Color</button>
            </button>

            <button id="change-background" style="margin-top: -200px; margin-left: 100px; height: 100px; width: 300px;
            font-size: 20px; font-family: shrikhand; background-color: rgba(164, 115, 233, 0.814); 
            border: rgba(177, 131, 190, 0.725); border-style: solid; color: rgba(112, 54, 167, 0.798);"
                onclick="document.location='aboutsettings.html'">About</button>

            <button id="change-background" style="margin-top: 300px; margin-left: -300px; height: 100px; width: 300px;
            font-size: 20px; font-family: shrikhand; background-color: rgba(164, 115, 233, 0.814); 
            border: rgba(177, 131, 190, 0.725); border-style: solid; color: rgba(112, 54, 167, 0.798);"
                onclick="document.location='ushelpcenter.html'">Help Center</button>

            <button id="change-background" style="margin-top: 300px; margin-left: -700px; height: 100px; width: 300px;
            font-size: 20px; font-family: shrikhand; background-color: rgba(164, 115, 233, 0.814); 
            border: rgba(177, 131, 190, 0.725); border-style: solid; color: rgba(112, 54, 167, 0.798);"
                onclick="document.location='language.html'">Language</button>

            <script>
                // Get the button element
                var changeBackgroundButton = document.getElementById("change-background");

                // Event listener for button click
                changeBackgroundButton.addEventListener("click", function () {
                    // Generate a random hex color code
                    var randomColor = '#' + Math.floor(Math.random() * 16777215).toString(16);

                    // Set the background color of the body
                    document.body.style.backgroundColor = randomColor;
                });
            </script>

            <textarea id="editable-bio" placeholder="This user is too lazy to leave anything"
                style="margin-top: 160px; height: 100px; margin-left: 560px; width: 370px;">
            </textarea>


        </div>

    </div>

    <div class="TextSettings">Settings</div>
    <div class="Icons">
        <img src="Photos/Settings.jpeg" alt="Avatar"
            style="margin-left: 190px; margin-top: -75px; height: 80px; width: 80px;">
    </div>
    <div class="Pictureframe1" style="margin-top: 50px; position: relative;">
        <div class="Cover" style="position: relative;">
            <div class="ProfileCover">

                <div class="avatar-container" style="margin-left: 100px; margin-top: -10px; padding: 20px;">
                    <img class="avatar" onclick="document.location='profilepage.html'" src="Photos/Profile.png"
                        alt="Avatar">
                    <button class="edit-button" onclick="uploadAvatar()"
                        style="margin-left: 1045px; margin-bottom: 255px;">Edit</button>
                    <input type="file" id="avatar-input" accept="image/*" style="display: none;">
                </div>

                <button class="button1"
                    style="height: 50px; width: 210px; font-family: 'Shrikhand'; margin-left: 90px; margin-top: 150px;"
                    onclick="logout()">Log Out
                </button>

                <script>
                    // Get elements
                    var editableBio = document.getElementById("editable-bio");
                    var saveBioButton = document.getElementById("save-bio");
                    var userBio = document.getElementById("user-bio");
                    var saveMessage = document.getElementById("save-message");

                    // Event listener for Save Bio button
                    saveBioButton.addEventListener("click", function () {
                        // Get the content of the editable bio textarea
                        var bioContent = editableBio.value.trim(); // Trim removes leading/trailing white spaces

                        // Update the user bio with the edited content
                        userBio.textContent = "Bio: " + bioContent;

                        // Show save message
                        saveMessage.classList.remove("hidden");

                        // Hide save message after 3 seconds
                        setTimeout(function () {
                            saveMessage.classList.add("hidden");
                        }, 3000);
                    });
                </script>

                <script>
                    function uploadAvatar() {
                        document.getElementById('avatar-input').click();
                    }

                    document.getElementById('avatar-input').addEventListener('change', function () {
                        const file = this.files[0];
                        if (file) {
                            const reader = new FileReader();
                            reader.onload = function (e) {
                                document.querySelector('.avatar').src = e.target.result;
                            }
                            reader.readAsDataURL(file);
                        }
                    });
                </script>

                <script src="settings.js"></script>

            </div>
        </div>
    </div>
</body>